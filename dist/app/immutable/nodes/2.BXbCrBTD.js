import{t as F,a as D,c as ke}from"../chunks/BWTyLByg.js";import{i as xe}from"../chunks/CJahpUiH.js";import{b as we,h as k,I as De,j as E,ad as Ie,K as Te,L as Z,M as $,N as H,c as q,a7 as Fe,O as ce,a as de,P as Se,ae as O,ab as _e,D as j,af as ee,T as Ne,z as ae,ag as K,ah as qe,aa as Ce,ai as Me,d as Le,aj as P,ak as Re,a5 as $e,H as He,Y as Oe,X as Ve,al as me,a3 as Ye,am as Be,an as Ke,ao as Pe,ap as Xe,i as ze,aq as Ge,p as he,w as T,f as X,q as pe,s as S,ar as Ue,v as I,as as re,B as te,at as se,t as ne}from"../chunks/B4Mao2Qk.js";import{a as Je,l as Qe,e as C,s as V}from"../chunks/Bx8e6cj9.js";import{s as We,a as Ze,i as le,b as ie,p as je}from"../chunks/CB83pzcO.js";import{w as ye,o as ea}from"../chunks/BzbPANud.js";function aa(e,a){return a}function ra(e,a,r,f){for(var s=[],n=a.length,c=0;c<n;c++)qe(a[c].e,s,!0);var h=n>0&&s.length===0&&r!==null;if(h){var g=r.parentNode;Ce(g),g.append(r),f.clear(),w(e,a[0].prev,a[n-1].next)}Me(s,()=>{for(var u=0;u<n;u++){var d=a[u];h||(f.delete(d.k),w(e,d.prev,d.next)),Le(d.e,!h)}})}function be(e,a,r,f,s,n=null){var c=e,h={flags:a,items:new Map,first:null},g=(a&me)!==0;if(g){var u=e;c=k?$(Oe(u)):u.appendChild(Ve())}k&&De();var d=null,A=!1,o=Ie(()=>{var v=r();return He(v)?v:v==null?[]:_e(v)});we(()=>{var v=E(o),t=v.length;if(A&&t===0)return;A=t===0;let _=!1;if(k){var y=c.data===Te;y!==(t===0)&&(c=Z(),$(c),H(!1),_=!0)}if(k){for(var p=null,m,b=0;b<t;b++){if(q.nodeType===8&&q.data===Fe){c=q,_=!0,H(!1);break}var l=v[b],i=f(l,b);m=ge(q,h,p,null,l,i,b,s,a,r),h.items.set(i,m),p=m}t>0&&$(Z())}k||ta(v,h,c,s,a,f,r),n!==null&&(t===0?d?ce(d):d=de(()=>n(c)):d!==null&&Se(d,()=>{d=null})),_&&H(!0),E(o)}),k&&(c=q)}function ta(e,a,r,f,s,n,c){var G,U,J,Q;var h=(s&Be)!==0,g=(s&(P|K))!==0,u=e.length,d=a.items,A=a.first,o=A,v,t=null,_,y=[],p=[],m,b,l,i;if(h)for(i=0;i<u;i+=1)m=e[i],b=n(m,i),l=d.get(b),l!==void 0&&((G=l.a)==null||G.measure(),(_??(_=new Set)).add(l));for(i=0;i<u;i+=1){if(m=e[i],b=n(m,i),l=d.get(b),l===void 0){var Ee=o?o.e.nodes_start:r;t=ge(Ee,a,t,t===null?a.first:t.next,m,b,i,f,s,c),d.set(b,t),y=[],p=[],o=t.next;continue}if(g&&sa(l,m,i,s),(l.e.f&O)!==0&&(ce(l.e),h&&((U=l.a)==null||U.unfix(),(_??(_=new Set)).delete(l))),l!==o){if(v!==void 0&&v.has(l)){if(y.length<p.length){var M=p[0],x;t=M.prev;var z=y[0],L=y[y.length-1];for(x=0;x<y.length;x+=1)oe(y[x],M,r);for(x=0;x<p.length;x+=1)v.delete(p[x]);w(a,z.prev,L.next),w(a,t,z),w(a,L,M),o=M,t=L,i-=1,y=[],p=[]}else v.delete(l),oe(l,o,r),w(a,l.prev,l.next),w(a,l,t===null?a.first:t.next),w(a,t,l),t=l;continue}for(y=[],p=[];o!==null&&o.k!==b;)(o.e.f&O)===0&&(v??(v=new Set)).add(o),p.push(o),o=o.next;if(o===null)continue;l=o}y.push(l),t=l,o=l.next}if(o!==null||v!==void 0){for(var N=v===void 0?[]:_e(v);o!==null;)(o.e.f&O)===0&&N.push(o),o=o.next;var R=N.length;if(R>0){var Ae=(s&me)!==0&&u===0?r:null;if(h){for(i=0;i<R;i+=1)(J=N[i].a)==null||J.measure();for(i=0;i<R;i+=1)(Q=N[i].a)==null||Q.fix()}ra(a,N,Ae,d)}}h&&Ye(()=>{var W;if(_!==void 0)for(l of _)(W=l.a)==null||W.apply()}),j.first=a.first&&a.first.e,j.last=t&&t.e}function sa(e,a,r,f){(f&P)!==0&&ee(e.v,a),(f&K)!==0?ee(e.i,r):e.i=r}function ge(e,a,r,f,s,n,c,h,g,u){var d=(g&P)!==0,A=(g&Re)===0,o=d?A?Ne(s):ae(s):s,v=(g&K)===0?c:ae(c),t={i:v,v:o,k:n,a:null,e:null,prev:r,next:f};try{return t.e=de(()=>h(e,o,v,u),k),t.e.prev=r&&r.e,t.e.next=f&&f.e,r===null?a.first=t:(r.next=t,r.e.next=t.e),f!==null&&(f.prev=t,f.e.prev=t.e),t}finally{}}function oe(e,a,r){for(var f=e.next?e.next.e.nodes_start:r,s=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==f;){var c=$e(n);s.before(n),n=c}}function w(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function fe(e){if(k){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var f=e.value;ve(e,"value",null),e.value=f}if(e.hasAttribute("checked")){var s=e.checked;ve(e,"checked",null),e.checked=s}}};e.__on_r=r,Ke(r),Je()}}function ve(e,a,r,f){var s=e.__attributes??(e.__attributes={});k&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Pe]=r),e.removeAttribute(a))}function ue(e,a,r=a){var f=Xe();Qe(e,"input",s=>{var n=s?e.defaultValue:e.value;if(n=Y(e)?B(n):n,r(n),f&&n!==(n=a())){var c=e.selectionStart,h=e.selectionEnd;e.value=n??"",h!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(h,e.value.length))}}),(k&&e.defaultValue!==e.value||ze(a)==null&&e.value)&&r(Y(e)?B(e.value):e.value),Ge(()=>{var s=a();Y(e)&&s===B(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Y(e){var a=e.type;return a==="number"||a==="range"}function B(e){return e===""?null:+e}function na(e){return function(...a){var r=a[0];return r.preventDefault(),e==null?void 0:e.apply(this,a)}}var la=F('<div class="field svelte-qyo7yc"><input type="text" placeholder="Name" class="svelte-qyo7yc"> <input type="email" placeholder="Email" class="svelte-qyo7yc"> <button type="button" class="svelte-qyo7yc">❌ Remove</button></div>'),ia=F('<h2>Dynamic Form in Svelte</h2> <form class="svelte-qyo7yc"><!> <button type="button" class="svelte-qyo7yc">➕ Add Field</button> <button type="submit" class="svelte-qyo7yc">Submit</button></form>',1);function oa(e,a){he(a,!1);const[r,f]=We(),s=()=>Ze(n,"$formFields",r);let n=ye([{id:1,name:"",email:""}]);function c(){n.update(t=>[...t,{id:Date.now(),name:"",email:""}])}function h(t){n.update(_=>_.filter(y=>y.id!==t))}function g(t,_,y){n.update(p=>p.map(m=>m.id===t?{...m,[_]:y}:m))}function u(){n.subscribe(t=>{console.log("Submitted Data:",t)})(),alert("Form submitted! Check console for data.")}xe();var d=ia(),A=T(X(d),2),o=S(A);be(o,1,s,t=>t.id,(t,_,y)=>{var p=la(),m=S(p);fe(m);var b=T(m,2);fe(b);var l=T(b,2);I(p),ue(m,()=>E(_).name,i=>(E(_).name=i,re(()=>s()),le(r,"$formFields"))),C("input",m,i=>g(E(_).id,"name",i.target.value)),ue(b,()=>E(_).email,i=>(E(_).email=i,re(()=>s()),le(r,"$formFields"))),C("input",b,i=>g(E(_).id,"email",i.target.value)),C("click",l,()=>h(E(_).id)),D(t,p)});var v=T(o,2);Ue(2),I(A),C("click",v,c),C("submit",A,na(u)),D(e,d),pe(),f()}var fa=F("<p>Loading posts...</p>"),va=F('<p style="color: red;"> </p>'),ua=F("<li><strong> </strong> <p> </p></li>"),ca=F("<ul></ul>");function da(e,a){he(a,!0);let r=ye([]),f=se(!0),s=se("");ea(async()=>{try{const u=await fetch("https://jsonplaceholder.typicode.com/posts");if(!u.ok)throw new Error("Failed to fetch posts");r=await u.json()}catch(u){te(s,je(u.message))}finally{te(f,!1)}});var n=ke(),c=X(n);{var h=u=>{var d=fa();D(u,d)},g=(u,d)=>{{var A=v=>{var t=va(),_=S(t);I(t),ne(()=>V(_,`Error: ${E(s)??""}`)),D(v,t)},o=v=>{var t=ca();be(t,21,()=>r.slice(0,5),aa,(_,y)=>{var p=ua(),m=S(p),b=S(m,!0);I(m);var l=T(m,2),i=S(l,!0);I(l),I(p),ne(()=>{V(b,E(y).title),V(i,E(y).body)}),D(_,p)}),I(t),D(v,t)};ie(u,v=>{E(s)?v(A):v(o,!1)},d)}};ie(c,u=>{E(f)?u(h):u(g,!1)})}D(e,n),pe()}var _a=F("<h1>Fetching API Data in Svelte 5</h1> <!> <!>",1);function Ea(e){var a=_a(),r=T(X(a),2);da(r,{});var f=T(r,2);oa(f,{}),D(e,a)}export{Ea as component};
