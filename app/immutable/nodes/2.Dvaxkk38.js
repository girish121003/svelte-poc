import{t as F,a as T,c as Ae}from"../chunks/CIf6ICnC.js";import{i as we}from"../chunks/DoGMpnmE.js";import{i as xe,l as A,I as Te,g as E,ad as Ie,K as De,L as Z,M as $,N as H,m as q,a7 as Fe,O as de,j as ce,P as Ne,ae as O,ab as _e,D as j,af as ee,T as Se,z as ae,ag as K,ah as qe,aa as Ce,ai as Me,k as Le,aj as P,ak as Re,a5 as $e,H as He,Y as Oe,X as Ve,al as me,a3 as Ye,am as Be,an as Ke,ao as Pe,ap as Xe,b as ze,aq as Ge,p as he,w as D,o as X,q as pe,s as N,ar as Ue,v as I,as as re,B as te,at as se,t as le}from"../chunks/CiNSUBsN.js";import{a as Je,l as Qe,e as C,s as V}from"../chunks/doL1xSkd.js";import{s as We,a as Ze,i as ne,b as ie,p as je}from"../chunks/YTLhjU9L.js";import{w as ye,o as ea}from"../chunks/ClqqBBdn.js";function aa(e,a){return a}function ra(e,a,r,f){for(var s=[],l=a.length,d=0;d<l;d++)qe(a[d].e,s,!0);var h=l>0&&s.length===0&&r!==null;if(h){var g=r.parentNode;Ce(g),g.append(r),f.clear(),x(e,a[0].prev,a[l-1].next)}Me(s,()=>{for(var u=0;u<l;u++){var c=a[u];h||(f.delete(c.k),x(e,c.prev,c.next)),Le(c.e,!h)}})}function be(e,a,r,f,s,l=null){var d=e,h={flags:a,items:new Map,first:null},g=(a&me)!==0;if(g){var u=e;d=A?$(Oe(u)):u.appendChild(Ve())}A&&Te();var c=null,k=!1,o=Ie(()=>{var v=r();return He(v)?v:v==null?[]:_e(v)});xe(()=>{var v=E(o),t=v.length;if(k&&t===0)return;k=t===0;let _=!1;if(A){var y=d.data===De;y!==(t===0)&&(d=Z(),$(d),H(!1),_=!0)}if(A){for(var p=null,m,b=0;b<t;b++){if(q.nodeType===8&&q.data===Fe){d=q,_=!0,H(!1);break}var n=v[b],i=f(n,b);m=ge(q,h,p,null,n,i,b,s,a,r),h.items.set(i,m),p=m}t>0&&$(Z())}A||ta(v,h,d,s,a,f,r),l!==null&&(t===0?c?de(c):c=ce(()=>l(d)):c!==null&&Ne(c,()=>{c=null})),_&&H(!0),E(o)}),A&&(d=q)}function ta(e,a,r,f,s,l,d){var G,U,J,Q;var h=(s&Be)!==0,g=(s&(P|K))!==0,u=e.length,c=a.items,k=a.first,o=k,v,t=null,_,y=[],p=[],m,b,n,i;if(h)for(i=0;i<u;i+=1)m=e[i],b=l(m,i),n=c.get(b),n!==void 0&&((G=n.a)==null||G.measure(),(_??(_=new Set)).add(n));for(i=0;i<u;i+=1){if(m=e[i],b=l(m,i),n=c.get(b),n===void 0){var Ee=o?o.e.nodes_start:r;t=ge(Ee,a,t,t===null?a.first:t.next,m,b,i,f,s,d),c.set(b,t),y=[],p=[],o=t.next;continue}if(g&&sa(n,m,i,s),(n.e.f&O)!==0&&(de(n.e),h&&((U=n.a)==null||U.unfix(),(_??(_=new Set)).delete(n))),n!==o){if(v!==void 0&&v.has(n)){if(y.length<p.length){var M=p[0],w;t=M.prev;var z=y[0],L=y[y.length-1];for(w=0;w<y.length;w+=1)oe(y[w],M,r);for(w=0;w<p.length;w+=1)v.delete(p[w]);x(a,z.prev,L.next),x(a,t,z),x(a,L,M),o=M,t=L,i-=1,y=[],p=[]}else v.delete(n),oe(n,o,r),x(a,n.prev,n.next),x(a,n,t===null?a.first:t.next),x(a,t,n),t=n;continue}for(y=[],p=[];o!==null&&o.k!==b;)(o.e.f&O)===0&&(v??(v=new Set)).add(o),p.push(o),o=o.next;if(o===null)continue;n=o}y.push(n),t=n,o=n.next}if(o!==null||v!==void 0){for(var S=v===void 0?[]:_e(v);o!==null;)(o.e.f&O)===0&&S.push(o),o=o.next;var R=S.length;if(R>0){var ke=(s&me)!==0&&u===0?r:null;if(h){for(i=0;i<R;i+=1)(J=S[i].a)==null||J.measure();for(i=0;i<R;i+=1)(Q=S[i].a)==null||Q.fix()}ra(a,S,ke,c)}}h&&Ye(()=>{var W;if(_!==void 0)for(n of _)(W=n.a)==null||W.apply()}),j.first=a.first&&a.first.e,j.last=t&&t.e}function sa(e,a,r,f){(f&P)!==0&&ee(e.v,a),(f&K)!==0?ee(e.i,r):e.i=r}function ge(e,a,r,f,s,l,d,h,g,u){var c=(g&P)!==0,k=(g&Re)===0,o=c?k?Se(s):ae(s):s,v=(g&K)===0?d:ae(d),t={i:v,v:o,k:l,a:null,e:null,prev:r,next:f};try{return t.e=ce(()=>h(e,o,v,u),A),t.e.prev=r&&r.e,t.e.next=f&&f.e,r===null?a.first=t:(r.next=t,r.e.next=t.e),f!==null&&(f.prev=t,f.e.prev=t.e),t}finally{}}function oe(e,a,r){for(var f=e.next?e.next.e.nodes_start:r,s=a?a.e.nodes_start:r,l=e.e.nodes_start;l!==f;){var d=$e(l);s.before(l),l=d}}function x(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function fe(e){if(A){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var f=e.value;ve(e,"value",null),e.value=f}if(e.hasAttribute("checked")){var s=e.checked;ve(e,"checked",null),e.checked=s}}};e.__on_r=r,Ke(r),Je()}}function ve(e,a,r,f){var s=e.__attributes??(e.__attributes={});A&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Pe]=r),e.removeAttribute(a))}function ue(e,a,r=a){var f=Xe();Qe(e,"input",s=>{var l=s?e.defaultValue:e.value;if(l=Y(e)?B(l):l,r(l),f&&l!==(l=a())){var d=e.selectionStart,h=e.selectionEnd;e.value=l??"",h!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(h,e.value.length))}}),(A&&e.defaultValue!==e.value||ze(a)==null&&e.value)&&r(Y(e)?B(e.value):e.value),Ge(()=>{var s=a();Y(e)&&s===B(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Y(e){var a=e.type;return a==="number"||a==="range"}function B(e){return e===""?null:+e}function la(e){return function(...a){var r=a[0];return r.preventDefault(),e==null?void 0:e.apply(this,a)}}var na=F('<div class="field svelte-qyo7yc"><input type="text" placeholder="Name" class="svelte-qyo7yc"> <input type="email" placeholder="Email" class="svelte-qyo7yc"> <button type="button" class="svelte-qyo7yc">❌ Remove</button></div>'),ia=F('<h2>Dynamic Form allow user to add more fields on the go</h2> <form class="svelte-qyo7yc"><!> <button type="button" class="svelte-qyo7yc">➕ Add Field</button> <button type="submit" class="svelte-qyo7yc">Submit</button></form>',1);function oa(e,a){he(a,!1);const[r,f]=We(),s=()=>Ze(l,"$formFields",r);let l=ye([{id:1,name:"",email:""}]);function d(){l.update(t=>[...t,{id:Date.now(),name:"",email:""}])}function h(t){l.update(_=>_.filter(y=>y.id!==t))}function g(t,_,y){l.update(p=>p.map(m=>m.id===t?{...m,[_]:y}:m))}function u(){l.subscribe(t=>{console.log("Submitted Data:",t)})(),alert("Form submitted! Check console for data.")}we();var c=ia(),k=D(X(c),2),o=N(k);be(o,1,s,t=>t.id,(t,_,y)=>{var p=na(),m=N(p);fe(m);var b=D(m,2);fe(b);var n=D(b,2);I(p),ue(m,()=>E(_).name,i=>(E(_).name=i,re(()=>s()),ne(r,"$formFields"))),C("input",m,i=>g(E(_).id,"name",i.target.value)),ue(b,()=>E(_).email,i=>(E(_).email=i,re(()=>s()),ne(r,"$formFields"))),C("input",b,i=>g(E(_).id,"email",i.target.value)),C("click",n,()=>h(E(_).id)),T(t,p)});var v=D(o,2);Ue(2),I(k),C("click",v,d),C("submit",k,la(u)),T(e,c),pe(),f()}var fa=F("<p>Loading posts...</p>"),va=F('<p style="color: red;"> </p>'),ua=F("<li><strong> </strong> <p> </p></li>"),da=F("<ul></ul>");function ca(e,a){he(a,!0);let r=ye([]),f=se(!0),s=se("");ea(async()=>{try{const u=await fetch("https://jsonplaceholder.typicode.com/posts");if(!u.ok)throw new Error("Failed to fetch posts");r=await u.json()}catch(u){te(s,je(u.message))}finally{te(f,!1)}});var l=Ae(),d=X(l);{var h=u=>{var c=fa();T(u,c)},g=(u,c)=>{{var k=v=>{var t=va(),_=N(t);I(t),le(()=>V(_,`Error: ${E(s)??""}`)),T(v,t)},o=v=>{var t=da();be(t,21,()=>r.slice(0,5),aa,(_,y)=>{var p=ua(),m=N(p),b=N(m,!0);I(m);var n=D(m,2),i=N(n,!0);I(n),I(p),le(()=>{V(b,E(y).title),V(i,E(y).body)}),T(_,p)}),I(t),T(v,t)};ie(u,v=>{E(s)?v(k):v(o,!1)},c)}};ie(d,u=>{E(f)?u(h):u(g,!1)})}T(e,l),pe()}var _a=F("<h1>This is mock API data called with fetching prop title and body</h1> <!> <!>",1);function Ea(e){var a=_a(),r=D(X(a),2);ca(r,{});var f=D(r,2);oa(f,{}),T(e,a)}export{Ea as component};
