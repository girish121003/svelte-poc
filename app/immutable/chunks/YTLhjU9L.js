import{S as h,x as H,y as K,z as m,A as Y,g as I,U as o,B as _,C as A,D as B,F as C,G as k,H as q,i as z,l as E,I as G,E as J,J as Q,K as Z,L as $,M as V,N as D,O as L,j as M,P as U,m as W,Q as X,R as x,n as j,T as p}from"./CiNSUBsN.js";import{s as ee,g as te}from"./ClqqBBdn.js";function T(n,c=null,l){if(typeof n!="object"||n===null||h in n)return n;const i=k(n);if(i!==H&&i!==K)return n;var r=new Map,v=q(n),g=m(0);v&&r.set("length",m(n.length));var b;return new Proxy(n,{defineProperty(a,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&C();var s=r.get(e);return s===void 0?(s=m(t.value),r.set(e,s)):_(s,T(t.value,b)),!0},deleteProperty(a,e){var t=r.get(e);if(t===void 0)e in a&&r.set(e,m(o));else{if(v&&typeof e=="string"){var s=r.get("length"),f=Number(e);Number.isInteger(f)&&f<s.v&&_(s,f)}_(t,o),F(g)}return!0},get(a,e,t){var d;if(e===h)return n;var s=r.get(e),f=e in a;if(s===void 0&&(!f||(d=A(a,e))!=null&&d.writable)&&(s=m(T(f?a[e]:o,b)),r.set(e,s)),s!==void 0){var u=I(s);return u===o?void 0:u}return Reflect.get(a,e,t)},getOwnPropertyDescriptor(a,e){var t=Reflect.getOwnPropertyDescriptor(a,e);if(t&&"value"in t){var s=r.get(e);s&&(t.value=I(s))}else if(t===void 0){var f=r.get(e),u=f==null?void 0:f.v;if(f!==void 0&&u!==o)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(a,e){var u;if(e===h)return!0;var t=r.get(e),s=t!==void 0&&t.v!==o||Reflect.has(a,e);if(t!==void 0||B!==null&&(!s||(u=A(a,e))!=null&&u.writable)){t===void 0&&(t=m(s?T(a[e],b):o),r.set(e,t));var f=I(t);if(f===o)return!1}return s},set(a,e,t,s){var S;var f=r.get(e),u=e in a;if(v&&e==="length")for(var d=t;d<f.v;d+=1){var w=r.get(d+"");w!==void 0?_(w,o):d in a&&(w=m(o),r.set(d+"",w))}f===void 0?(!u||(S=A(a,e))!=null&&S.writable)&&(f=m(void 0),_(f,T(t,b)),r.set(e,f)):(u=f.v!==o,_(f,T(t,b)));var y=Reflect.getOwnPropertyDescriptor(a,e);if(y!=null&&y.set&&y.set.call(s,t),!u){if(v&&typeof e=="string"){var P=r.get("length"),R=Number(e);Number.isInteger(R)&&R>=P.v&&_(P,R+1)}F(g)}return!0},ownKeys(a){I(g);var e=Reflect.ownKeys(a).filter(f=>{var u=r.get(f);return u===void 0||u.v!==o});for(var[t,s]of r)s.v!==o&&!(t in a)&&e.push(t);return e},setPrototypeOf(){Y()}})}function F(n,c=1){_(n,n.v+c)}function fe(n,c,[l,i]=[0,0]){E&&l===0&&G();var r=n,v=null,g=null,b=o,a=l>0?J:0,e=!1;const t=(f,u=!0)=>{e=!0,s(u,f)},s=(f,u)=>{if(b===(b=f))return;let d=!1;if(E&&i!==-1){if(l===0){const y=r.data;y===Q?i=0:y===Z?i=1/0:(i=parseInt(y.substring(1)),i!==i&&(i=b?1/0:-1))}const w=i>l;!!b===w&&(r=$(),V(r),D(!1),d=!0,i=-1)}b?(v?L(v):u&&(v=M(()=>u(r))),g&&U(g,()=>{g=null})):(g?L(g):u&&(g=M(()=>u(r,[l+1,i]))),v&&U(v,()=>{v=null})),d&&D(!0)};z(()=>{e=!1,c(t),e||s(null,null)},a),E&&(r=W)}let N=!1,O=Symbol();function ie(n,c,l){const i=l[c]??(l[c]={store:null,source:p(void 0),unsubscribe:j});if(i.store!==n&&!(O in l))if(i.unsubscribe(),i.store=n??null,n==null)i.source.v=void 0,i.unsubscribe=j;else{var r=!0;i.unsubscribe=ee(n,v=>{r?i.source.v=v:_(i.source,v)}),r=!1}return n&&O in l?te(n):I(i.source)}function ne(n,c){return n.set(c),c}function ae(n,c){var l=n[c];l.store!==null&&ne(l.store,l.source.v)}function ue(){const n={};function c(){X(()=>{for(var l in n)n[l].unsubscribe();x(n,O,{enumerable:!1,value:!0})})}return[n,c]}function le(n){var c=N;try{return N=!1,[n(),N]}finally{N=c}}export{ie as a,fe as b,le as c,ae as i,T as p,ue as s};
